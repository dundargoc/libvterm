local vt=init()
local state = wantstate(vt, "") p

reset(state,screen)
  settermprop 1 true
  settermprop 2 true
  settermprop 7 1

-- Cursor visibility
push "\x1b[?25h"
  settermprop 1 true
push "\x1b[?25\$p"
  output "\x1b[?25;1\$y"
push "\x1b[?25l"
  settermprop 1 false
push "\x1b[?25\$p"
  output "\x1b[?25;2\$y"

-- Cursor blink
push "\x1b[?12h"
  settermprop 2 true
push "\x1b[?12\$p"
  output "\x1b[?12;1\$y"
push "\x1b[?12l"
  settermprop 2 false
push "\x1b[?12\$p"
  output "\x1b[?12;2\$y"

-- Cursor shape
push "\x1b[3 q"
  settermprop 2 true
  settermprop 7 2

-- Title
push "\x1b]2;Here is my title\a"
  settermprop 4 ["Here is my title"]

-- Title split write
push "\x1b]2;Here is"
  settermprop 4 ["Here is"
push " another title\a"
  settermprop 4 " another title"]
