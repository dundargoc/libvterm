local vt=init()
local state = wantstate(vt, "g")

-- Default
reset(state,screen)
push "#"
  putglyph 23 1 0,0

-- Designate G0=UK
reset(state,screen)
push "\x1b(A"
push "#"
  putglyph 00a3 1 0,0

-- Designate G0=DEC drawing
reset(state,screen)
push "\x1b(0"
push "a"
  putglyph 2592 1 0,0

-- Designate G1 + LS1
reset(state,screen)
push "\x1b)0"
push "a"
  putglyph 61 1 0,0
push "\x0e"
push "a"
  putglyph 2592 1 0,1
-- LS0
push "\x0f"
push "a"
  putglyph 61 1 0,2

-- Designate G2 + LS2
push "\x1b*0"
push "a"
  putglyph 61 1 0,3
push "\x1bn"
push "a"
  putglyph 2592 1 0,4
push "\x0f"
push "a"
  putglyph 61 1 0,5

-- Designate G3 + LS3
push "\x1b+0"
push "a"
  putglyph 61 1 0,6
push "\x1bo"
push "a"
  putglyph 2592 1 0,7
push "\x0f"
push "a"
  putglyph 61 1 0,8

-- SS2
push "a\x{8e}aa"
  putglyph 61 1 0,9
  putglyph 2592 1 0,10
  putglyph 61 1 0,11

-- SS3
push "a\x{8f}aa"
  putglyph 61 1 0,12
  putglyph 2592 1 0,13
  putglyph 61 1 0,14

-- LS1R
reset(state,screen)
push "\x1b~"
push "\xe1"
  putglyph 61 1 0,0
push "\x1b)0"
push "\xe1"
  putglyph 2592 1 0,1

-- LS2R
reset(state,screen)
push "\x1b}"
push "\xe1"
  putglyph 61 1 0,0
push "\x1b*0"
push "\xe1"
  putglyph 2592 1 0,1

-- LS3R
reset(state,screen)
push "\x1b|"
push "\xe1"
  putglyph 61 1 0,0
push "\x1b+0"
push "\xe1"
  putglyph 2592 1 0,1

-- Mixed US-ASCII and UTF-8
# U+0108 == c4 88
reset(state,screen)
push "\x1b(B"
push "AB\xc4\x88D"
  putglyph 0041 1 0,0
  putglyph 0042 1 0,1
  putglyph 0108 1 0,2
  putglyph 0044 1 0,3
