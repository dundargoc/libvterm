local vt=init()
local state = wantstate(vt, "g")

-- Placement
reset(state,screen)
push "AB\x1b[79GCDE"
  putglyph 41 1 0,0
  putglyph 42 1 0,1
  putglyph 43 1 0,78
  putglyph 44 1 0,79
  putglyph 45 1 1,0

-- Resize
reset(state,screen)
resize(27,85,vt)
push "AB\x1b[79GCDE"
  putglyph 41 1 0,0
  putglyph 42 1 0,1
  putglyph 43 1 0,78
  putglyph 44 1 0,79
  putglyph 45 1 0,80
  ?cursor = 0,81

-- Resize without reset
resize(28,90,vt)
  ?cursor = 0,81
push "FGHI"
  putglyph 46 1 0,81
  putglyph 47 1 0,82
  putglyph 48 1 0,83
  putglyph 49 1 0,84
  ?cursor = 0,85

-- Resize shrink moves cursor
resize(25,80,vt)
  ?cursor = 0,79

-- Resize grow doesn't cancel phantom
reset(state,screen)
push "\x1b[79GAB"
  putglyph 41 1 0,78
  putglyph 42 1 0,79
  ?cursor = 0,79
resize(30,100,vt)
  ?cursor = 0,80
push "C"
  putglyph 43 1 0,80
  ?cursor = 0,81
