local vt=init()
local state = wantstate(vt, "")

# Many of these test cases inspired by
#   https://blueprints.launchpad.net/libvterm/+spec/reflow-cases

-- Spillover text marks continuation on second line
reset(state,screen)
push "A"x100
push "\r\n"
  ?lineinfo 0 =
  ?lineinfo 1 = cont

-- CRLF in column 80 does not mark continuation
reset(state,screen)
push "B"x80
push "\r\n"
push "B"x20
push "\r\n"
  ?lineinfo 0 =
  ?lineinfo 1 =

-- EL cancels continuation of following line
reset(state,screen)
push "D"x100
  ?lineinfo 1 = cont
push "\x1bM\x1b[79G\x1b[K"
  ?lineinfo 1 =
