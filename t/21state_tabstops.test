local vt=init()
local state = wantstate(vt, "g")

-- Initial
reset(state,screen)
push "\tX"
  putglyph 58 1 0,8
push "\tX"
  putglyph 58 1 0,16
  ?cursor = 0,17

-- HTS
push "\x1b[5G\x1bH"
push "\x1b[G\tX"
  putglyph 58 1 0,4
  ?cursor = 0,5

-- TBC 0
push "\x1b[9G\x1b[g"
push "\x1b[G\tX\tX"
  putglyph 58 1 0,4
  putglyph 58 1 0,16
  ?cursor = 0,17

-- TBC 3
push "\x1b[3g\x1b[50G\x1bH\x1b[G"
  ?cursor = 0,0
push "\tX"
  putglyph 58 1 0,49
  ?cursor = 0,50

-- Tabstops after resize
reset(state,screen)
RESIZE 30,100
# Should be 100/8 = 12 tabstops
push "\tX"
  putglyph 58 1 0,8
push "\tX"
  putglyph 58 1 0,16
push "\tX"
  putglyph 58 1 0,24
push "\tX"
  putglyph 58 1 0,32
push "\tX"
  putglyph 58 1 0,40
push "\tX"
  putglyph 58 1 0,48
push "\tX"
  putglyph 58 1 0,56
push "\tX"
  putglyph 58 1 0,64
push "\tX"
  putglyph 58 1 0,72
push "\tX"
  putglyph 58 1 0,80
push "\tX"
  putglyph 58 1 0,88
push "\tX"
  putglyph 58 1 0,96
  ?cursor = 0,97
